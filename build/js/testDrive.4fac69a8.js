(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["testDrive"],{"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),a=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(e){return!!~a(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(a){}}return!0}},6762:function(e,t,n){"use strict";var r=n("5ca1"),a=n("c366")(!0);r(r.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"7b7c":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("00e8"),a=n("c5a6"),i=function(e,t){var n=0,a=t.limit||10,i=t.tagId||"",c=t.sourcePhotoId||"",o=t.brandId||"";return e="/".concat(e,"?offset=").concat(n,"&limit=").concat(a,"&tagId=").concat(i,"&sourcePhotoId=").concat(c,"&brandId=").concat(o),r["a"].get(e)},c=function(e,t){var n=t.limit||10,a=t.offset||0;return e="/".concat(e,"?offset=").concat(a,"&limit=").concat(n),r["a"].get(e)},o=function(e,t){return e.indexOf("photo/reco")>-1?i(e,t):e.indexOf("commentator/reco")>-1?c(e,t):e.indexOf("square/carType/list")>-1?Object(a["c"])(t):e.indexOf("square/carowner/activity")>-1?Object(a["b"])(t):Promise.resolve()},s=function(){var e="/userInfo";return r["a"].get(e)}},"8a05":function(e,t,n){"use strict";var r=n("e68a"),a=n.n(r);a.a},a481:function(e,t,n){"use strict";var r=n("cb7c"),a=n("4bf8"),i=n("9def"),c=n("4588"),o=n("0390"),s=n("5f1b"),u=Math.max,l=Math.min,d=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,h){return[function(r,a){var i=e(this),c=void 0==r?void 0:r[t];return void 0!==c?c.call(r,i,a):n.call(String(i),r,a)},function(e,t){var a=h(n,e,this,t);if(a.done)return a.value;var d=r(e),v=String(this),p="function"===typeof t;p||(t=String(t));var b=d.global;if(b){var g=d.unicode;d.lastIndex=0}var y=[];while(1){var C=s(d,v);if(null===C)break;if(y.push(C),!b)break;var O=String(C[0]);""===O&&(d.lastIndex=o(v,i(d.lastIndex),g))}for(var k="",j=0,I=0;I<y.length;I++){C=y[I];for(var _=String(C[0]),w=u(l(c(C.index),v.length),0),x=[],N=1;N<C.length;N++)x.push(f(C[N]));var S=C.groups;if(p){var R=[_].concat(x,w,v);void 0!==S&&R.push(S);var U=String(t.apply(void 0,R))}else U=m(_,v,w,x,S,t);w>=j&&(k+=v.slice(j,w)+U,j=w+_.length)}return k+v.slice(j)}];function m(e,t,r,i,c,o){var s=r+e.length,u=i.length,l=p;return void 0!==c&&(c=a(c),l=v),n.call(o,l,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":o=c[a.slice(1,-1)];break;default:var l=+a;if(0===l)return n;if(l>u){var v=d(l/10);return 0===v?n:v<=u?void 0===i[v-1]?a.charAt(1):i[v-1]+a.charAt(1):n}o=i[l-1]}return void 0===o?"":o}))}}))},c5a6:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return v})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return f}));n("a481"),n("6762"),n("2fdb");var r=n("00e8"),a=function(e){var t="/square/info/".concat(e);return r["a"].get(t)},i=function(e){var t="/square/like/".concat(e);return r["a"].get(t)},c=function(e,t){var n="/square/like/".concat(e);return r["a"].post(n,{brandId:e,like:t})},o=function(e){var t=e.brandId,n="/square/carType/list/".concat(t);return r["a"].get(n)},s=function(e){var t="/square/follow/".concat(e);return r["a"].get(t)},u=function(e,t){var n="/square/follow/".concat(e);return r["a"].post(n,{brandId:e,follow:t})},l=function(e,t){var n="/square/location";return r["a"].post(n,{latitude:e,longitude:t})},d=function(e,t,n,a,i){var c="/square/reserve";return["\u9999\u6e2f","\u6fb3\u95e8","\u53f0\u6e7e"].includes(n)&&(a=""),["\u5317\u4eac","\u5929\u6d25","\u91cd\u5e86","\u4e0a\u6d77"].includes(n)&&(a=a.replace("\u533a","")),a=a.replace("\u5e02",""),r["a"].post(c,{carTypeId:i,city:a,name:e,phone:t,province:n})},v=function(e,t,n,a,i,c,o){var s="/square/servicepoints/".concat(e),u="";return a.indexOf("\u5b9a\u4f4d\u5931\u8d25")>-1?u="\u5317\u4eac":(["\u5317\u4eac","\u5929\u6d25","\u91cd\u5e86","\u4e0a\u6d77","\u9999\u6e2f","\u6fb3\u95e8","\u53f0\u6e7e"].includes(n)&&(a=""),a=a.replace("\u5e02",""),u=n+"-"+a),r["a"].post(s,{brandId:e,location:t,region:u,type:i,offset:c*o,limit:o})},p=function(e){var t=e.brandId,n="/square/carowner/activity/".concat(t);return r["a"].get(n)},f=function(){var e="square/tags";return r["a"].get(e)}},d2c8:function(e,t,n){var r=n("aae3"),a=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e))}},e48b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"test-drive",attrs:{id:"test-drive"}},[n("div",{staticClass:"car-typ-card"},[n("div",{staticClass:"name-price"},[n("div",{staticClass:"car-name"},[e._v(e._s(e.carName||"-"))]),n("div",{staticClass:"price"},[n("span",[e._v("\u6307\u5bfc\u4ef7\xa0\xa0")]),e._v(e._s(e.price?e.price.toLocaleLowerCase():"-")+"\n            ")])]),n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.imageUrl,expression:"imageUrl",arg:"background-image"}],staticClass:"image-url",style:e.coverStyle})]),n("div",{staticClass:"appointment"},[n("div",{staticClass:"formable"},[n("label",{staticClass:"form-label"},[e._v("\u60a8\u7684\u79f0\u547c")]),n("div",{staticClass:"form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"form-input form-userName",attrs:{type:"text",maxlength:"5",placeholder:"\u8bf7\u586b\u5199\u60a8\u7684\u540d\u5b57"},domProps:{value:e.userName},on:{blur:function(t){return e.downKeyboard()},input:function(t){t.target.composing||(e.userName=t.target.value)}}})])]),n("div",{staticClass:"formable",class:{errorPhone:e.rule.phone}},[n("label",{staticClass:"form-label is-required"},[e._v("\u60a8\u7684\u7535\u8bdd")]),n("div",{staticClass:"form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-input form-phone",attrs:{type:"tel",maxlength:"11",placeholder:"\u8bf7\u586b\u5199\u60a8\u7684\u7535\u8bdd",pattern:"[0-9]*"},domProps:{value:e.phone},on:{blur:function(t){return e.downKeyboard()},input:function(t){t.target.composing||(e.phone=t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.phone,expression:"phone"}],staticClass:"close form-input-icon",on:{click:function(t){return e.emptyData()}}})])]),n("div",{staticClass:"formable"},[n("label",{staticClass:"form-label"},[e._v("\u9884\u7ea6\u5730\u533a")]),n("div",{staticClass:"form-content",on:{click:function(t){return e.selectCity()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.provinceAndCity,expression:"provinceAndCity"}],staticClass:"form-input",attrs:{type:"text",readonly:""},domProps:{value:e.provinceAndCity},on:{input:function(t){t.target.composing||(e.provinceAndCity=t.target.value)}}}),n("i",{staticClass:"universal_icon form-input-icon"})])]),n("div",{staticClass:"legal-instruments"},[e._v("\n            \u70b9\u51fb\u63d0\u4ea4\u5373\u89c6\u4e3a\u540c\u610f\n            "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadUrl("https://app.m.kuaishou.com/public/index.html?layoutType=4#/protocol/privacy")}}},[e._v("\u300a\u9690\u79c1\u6743\u4fdd\u62a4\u653f\u7b56\u300b")]),n("a",{attrs:{href:"javascript:void(0)",target:"__blank"},on:{click:function(t){return e.loadUrl("https://static.yximgs.com/udata/pkg/ks-ad-fe/kuaishuoche-protocal.html?layoutType=4")}}},[e._v("\u300a\u4e2a\u4eba\u4fe1\u606f\u4fdd\u62a4\u58f0\u660e\u300b")])]),n("div",{staticClass:"submitBtn",on:{click:function(t){return e.postReserve()}}},[e._v("\u7acb\u5373\u63d0\u4ea4")])])])},a=[],i=(n("6762"),n("2fdb"),n("a481"),n("d225")),c=n("b0b4"),o=n("308d"),s=n("6bb5"),u=n("4e2b"),l=n("9ab4"),d=n("60a3"),v=n("0c0d"),p=n("d0da"),f=n("c5a6"),h=n("7b7c"),m=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.carName="",e.price="",e.imageUrl="",e.carTypeId="",e.userName="",e.phone=decodeURIComponent(Object(v["a"])("phone")).trim(),e.province="",e.city="",e.provinceAndCity="",e.rule={phone:!1},e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"onPersonChanged1",value:function(e,t){var n=this,r=/^(\+86)?[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;r.test(e)?(e.replace(r,(function(t,r){return n.phone=e.replace(r,"")})),this.rule.phone=!1):this.rule.phone=!0}},{key:"onCityChange",value:function(e,t){e&&(["\u5317\u4eac","\u5929\u6d25","\u91cd\u5e86","\u4e0a\u6d77","\u9999\u6e2f","\u6fb3\u95e8","\u53f0\u6e7e"].includes(this.province)?this.provinceAndCity=this.province+" "+this.province:this.provinceAndCity=this.province+" "+this.city)}},{key:"downKeyboard",value:function(){Object(p["a"])()}},{key:"emptyData",value:function(){this.phone=""}},{key:"selectCity",value:function(){var e=this;Object(p["g"])((function(t){t.provinceName.indexOf("\u53f0\u6e7e")>-1?Object(p["l"])("normal","\u6682\u4e0d\u652f\u6301\u53f0\u6e7e"):(e.province=t.provinceName,e.city=t.cityName)}))}},{key:"getProvinceAndCity",value:function(e,t){var n=this;0===e&&0===t?this.provinceAndCity="\u5b9a\u4f4d\u5931\u8d25\uff0c\u70b9\u51fb\u9009\u62e9":Object(f["f"])(e,t).then((function(e){n.province=e.data.province,n.city=e.data.city}))}},{key:"postReserve",value:function(){if(this.rule.phone||!this.phone)this.rule.phone=!0;else{var e=this.userName,t=this.phone,n=this.province,r=this.city,a=this.carTypeId;this.postReserveLog(),Object(f["j"])(e,t,n,r,a).then((function(e){1===e.result?(Object(p["l"])("normal","\u63d0\u4ea4\u6210\u529f"),setTimeout((function(){Object(p["f"])()}),1200)):Object(p["l"])("error","\u7f51\u7edc\u5f02\u5e38")}))}}},{key:"postReserveLog",value:function(){this.$logger.collect("CLICK","CLICK_BUSINESS_CAR_RESERVE_SUBMIT_INFO",{},JSON.stringify({business_package:{business_line:"\u5feb\u8bf4\u8f66",custom:{brand:"\u7279\u65af\u62c9",model:decodeURIComponent(Object(v["a"])("carName")),source:this.$route.query.source||"unknown"}}}))}},{key:"loadUrl",value:function(e){Object(p["d"])(e)}},{key:"created",value:function(){var e=this;Object(p["c"])(e.getProvinceAndCity),this.carName=decodeURIComponent(Object(v["a"])("carName")),this.price=decodeURIComponent(Object(v["a"])("price")),this.imageUrl=decodeURIComponent(Object(v["a"])("imageUrl")),this.phone||Object(h["b"])().then((function(t){t.data.login&&(e.phone=t.data.phone)}))}},{key:"beforeCreate",value:function(){Object(p["h"])("\u514d\u8d39\u9884\u7ea6\u8bd5\u9a7e"),this.$PV("enter","BUSINESS_CAR_RESERVE",{business_package:{custom:{brand:"\u7279\u65af\u62c9",model:decodeURIComponent(Object(v["a"])("carName")),source:this.$route.query.source||"unknown"}}})}},{key:"beforeDestroy",value:function(){this.$PV("leave","BUSINESS_CAR_RESERVE",{business_package:{custom:{brand:"\u7279\u65af\u62c9",model:decodeURIComponent(Object(v["a"])("carName")),source:this.$route.query.source||"unknown"}}})}},{key:"coverStyle",get:function(){return{background:"#fafafa no-repeat 0% 0% / cover"}}}]),t}(d["h"]);Object(l["b"])([Object(d["i"])("phone",{immediate:!0})],m.prototype,"onPersonChanged1",null),Object(l["b"])([Object(d["i"])("city")],m.prototype,"onCityChange",null),m=Object(l["b"])([Object(d["a"])({name:"teslaCommunity",components:{}})],m);var b=m,g=b,y=(n("8a05"),n("2877")),C=Object(y["a"])(g,r,a,!1,null,"50a9fc1f",null);t["default"]=C.exports},e68a:function(e,t,n){}}]);
//# sourceMappingURL=testDrive.4fac69a8.js.map