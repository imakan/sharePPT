(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["brandContent"],{"14aa":function(t,a,e){},"79f2":function(t,a,e){"use strict";var o=e("14aa"),n=e.n(o);n.a},"7ff2":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"wrap"},[o("mescroll",t._b({ref:"mescrollWrap",on:{setCurrentIndex:t.setCurrentIndex}},"mescroll",{tabList:t.tabList,filterTab:t.filterTab,subId:t.subId,currentIndex:t.currentIndex,tabLogConfig:{elementAction:"CLICK_BUSINESS_CAR_BRANDDETAIL_TAB",identity:t.subId,brand:t.subName}},!1),[o("brand-header",t._b({attrs:{slot:"header"},slot:"header"},"brand-header",{statisticsData:t.statisticsData,brandInfo:t.brandInfo,fromHome:t.fromHome,subName:t.subName,subId:t.subId},!1)),o("feed-box",t._b({attrs:{slot:"content"},slot:"content"},"feed-box",{subId:t.subId,tabList:t.tabList,currentIndex:t.currentIndex,feedLogConfig:{show:{elementAction:"SHOW_BUSINESS_CAR_BRANDDETAIL_PHOTO"},click:{elementAction:"CLICK_BUSINESS_CAR_BRANDDETAIL_PHOTO"},identity:t.subId,brand:t.subName}},!1)),o("shoot-btn",t._b({ref:"shootBtn",attrs:{slot:"shootBtn"},on:{click:t.clickShootBtn},slot:"shootBtn"},"shoot-btn",{tag:t.tag,subId:t.subId,activityId:20003},!1)),o("to-top",{attrs:{slot:"toTop"},on:{goToTop:t.goToTop},slot:"toTop"})],1),o("sp-popup",{staticClass:"myPopup",attrs:{position:"bottom","disable-scroll":!0},on:{show:t.setDialog},model:{value:t.popupShow,callback:function(a){t.popupShow=a},expression:"popupShow"}},[o("tag-page",{attrs:{datasource:t.activeTags,params:{brandId:this.subId,tagId:this.tabList[this.currentIndex].tagId,brandName:this.subName},firstEnter:t.firstEnter,isShow:t.popupShow},on:{"on-cancel":t.handleCancel,"on-confirm":t.handleConfirm},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",[t._v("\u4e3a\u4f5c\u54c1\u6dfb\u52a0\u5206\u7c7b\u8bdd\u9898")])]},proxy:!0}])})],1),o("sp-dialog",{staticClass:"tagDialog",attrs:{position:"center","mask-closeable":!1},model:{value:t.openDialog,callback:function(a){t.openDialog=a},expression:"openDialog"}},[o("div",{staticClass:"dialog__content"},[o("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e("818f"),expression:"require('@/assets/notice.png')",arg:"background-image"}],staticClass:"testimg"}),o("div",{staticClass:"confirm__btn",on:{click:function(a){t.openDialog=!1}}},[t._v("\u7ee7\u7eed\u53d1\u5e03")])]),o("div",{staticClass:"gap"}),o("img",{staticClass:"closeimg",attrs:{src:e("43bc")},on:{click:function(a){t.openDialog=!1}}})])],1)},n=[],s=e("d225"),i=e("b0b4"),r=e("308d"),c=e("6bb5"),u=e("4e2b"),l=e("9ab4"),b=e("60a3"),d=e("d0da"),p=e("7afa"),f=e("923e"),h=e("4058"),m=e("122a"),g=e("e813"),v=e("0c0d"),I=e("044e"),y=e("00e8"),_=function(t){var a="/brand/statistics?brandId=".concat(t);return y["a"].get(a)},C=function(t,a){a=a||"";var e="/brand/info?brandId=".concat(t,"&firstLetter=").concat(a);return y["a"].get(e)},k=e("e255"),O=e("2cfd"),S=e("4201"),N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.fromHome?e("div",{staticClass:"source",on:{click:function(a){return t.backChannel()}}},[t._v("\n        \u8fdb\u5165\u5feb\u8bf4\u8f66\u9891\u9053\n        "),e("i",{staticClass:"icon-nav-forward",style:t.iconNavStyle})]):t._e(),e("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.brandInfo.bgUrl,expression:"brandInfo.bgUrl",arg:"background-image"}],staticClass:"branchHeader"},[e("div",{staticClass:"logo-title"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.brandInfo.logoUrl,expression:"brandInfo.logoUrl"}],staticClass:"logo",attrs:{alt:""}}),e("div",{staticClass:"title"},[t._v(t._s(t.brandInfo.title))])]),e("div",{staticClass:"pr-br-up"},[e("div",{staticClass:"pr"},[e("span",[t._v(t._s(t._f("formatUnit")(t.statisticsData.photoCount)))]),t._v("\n                \u4f5c\u54c1\n            ")]),e("div",{staticClass:"br"},[e("span",[t._v(t._s(t._f("formatUnit")(t.statisticsData.playCount)))]),t._v("\n                \u64ad\u653e\n            ")]),e("div",{staticClass:"up"},[e("span",[t._v(t._s(t._f("formatUnit")(t.statisticsData.likeCount)))]),t._v("\n                \u70b9\u8d5e\n            ")])])])])},j=[],w=e("d5d6"),D=function(t){function a(){return Object(s["a"])(this,a),Object(r["a"])(this,Object(c["a"])(a).apply(this,arguments))}return Object(u["a"])(a,t),Object(i["a"])(a,[{key:"backChannel",value:function(){this.$logger.sendImmediately("CLICK","CLICK_BUSINESS_CAR_GUIDE_TO_CHANNEL",{},JSON.stringify({business_package:{business_line:"\u5feb\u8bf4\u8f66",custom:{conversion_id:this.subId,source:this.$route.query.source||"unknown"}}})),this.$router.push({path:"/home",query:{channelName:this.subName,source:this.$route.query.source||"unknown"}})}},{key:"iconNavStyle",get:function(){return{backgroundImage:"url(".concat(e("5655"),")")}}}]),a}(b["h"]);Object(l["b"])([Object(b["d"])(Boolean)],D.prototype,"fromHome",void 0),Object(l["b"])([Object(b["d"])(String)],D.prototype,"subName",void 0),Object(l["b"])([Object(b["d"])(String)],D.prototype,"subId",void 0),Object(l["b"])([Object(b["d"])(Object)],D.prototype,"brandInfo",void 0),Object(l["b"])([Object(b["d"])({default:{photoCount:0,playCount:0,likeCount:0}})],D.prototype,"statisticsData",void 0),D=Object(l["b"])([Object(b["a"])({name:"brandHeader",filters:{formatUnit:w["b"]}})],D);var T=D,x=T,A=(e("79f2"),e("2877")),L=Object(A["a"])(x,N,j,!1,null,"dba3b380",null),B=L.exports,E=function(t){return[{tabName:"\u63a8\u8350\u89c6\u9891",ajaxKey:"photo/reco",listData:new Array,noMore:!1,fetching:!1,pageNum:0,tagId:"",brandId:t,layout:"recoVideo",limit:20},{tabName:"\u9009\u4e70\u6307\u5357",ajaxKey:"photo/reco",listData:new Array,noMore:!1,fetching:!1,pageNum:0,tagId:"121",brandId:t,layout:"recoVideo",limit:20},{tabName:"\u7ef4\u4fee\u4fdd\u517b",ajaxKey:"photo/reco",listData:new Array,noMore:!1,fetching:!1,pageNum:0,tagId:"126",brandId:t,layout:"recoVideo",limit:10}]},$=function(t){function a(){var t;return Object(s["a"])(this,a),t=Object(r["a"])(this,Object(c["a"])(a).apply(this,arguments)),t.tabList=E(t.subId),t.filterTab=[],t.currentIndex=0,t.subName="",t.tag="",t.statisticsData={},t.brandInfo={},t.popupShow=!1,t.activeTags=[],t.firstEnter=!1,t.openDialog=!1,t}return Object(u["a"])(a,t),Object(i["a"])(a,[{key:"onShowWatch",value:function(t){t&&this.$refs.mescrollWrap&&(this.$refs.mescrollWrap.mescrollDown.isLock=t,this.$refs.mescrollWrap.mescrollUp.isLock=t)}},{key:"setDialog",value:function(){this.firstEnter&&(this.openDialog=!0)}},{key:"setCurrentIndex",value:function(t){"\u63a8\u8350\u89c6\u9891"===this.tabList[t].tabName?this.tag=this.subName:this.tag=this.subName+" #"+this.tabList[t].tabName,this.currentIndex=t}},{key:"clickShootBtn",value:function(){var t=this;if(!I["a"])return Object(d["d"])("kwai://webview?url=".concat(encodeURIComponent("https://auto.kuaishou.com/auto".concat(this.$route.fullPath)))),!1;var a=this;Object(k["a"])().then((function(e){t.firstEnter=e.data.firstEnter,e.data.login?t.callShoot(e.data.creator):Object(d["e"])((function(){a.callShoot(e.data.creator)}))}))}},{key:"callShoot",value:function(t){t?(this.popupShow=!0,Object(O["a"])()):this.$refs.shootBtn.shootCallback()}},{key:"handleConfirm",value:function(){var t=this;this.popupShow=!1;var a=this.activeTags.map((function(t){return t.topicId}));this.tag=this.activeTags.map((function(t){return t.title})).join(" #"),this.$nextTick((function(){t.$refs.shootBtn.shootCallback(S["a"],a)}))}},{key:"handleCancel",value:function(){this.popupShow=!1}},{key:"goToTop",value:function(){this.$refs.mescrollWrap&&this.$refs.mescrollWrap.mescroll.scrollTo(0,300)}},{key:"created",value:function(){var t=this;_(this.subId).then((function(a){if(1===a.result){t.statisticsData=a.data;var e=a.data.tagIds;e.length&&(t.filterTab=a.data.tagIds,t.filterTab.unshift(t.subId))}})),C(this.subId).then((function(a){1===a.result&&(t.subName=a.data.title,t.tag=a.data.title,Object(d["h"])(a.data.title),t.brandInfo=a.data,t.$PV("enter","BUSINESS_CAR_BRANDDETAIL",{business_package:{custom:{identity:t.subId,brand:t.subName,source:t.$route.query.source||"unknown"}}}))}))}},{key:"beforeDestroy",value:function(){this.$PV("leave","BUSINESS_CAR_BRANDDETAIL",{business_package:{custom:{identity:this.subId,brand:this.subName,source:this.$route.query.source||"unknown"}}})}},{key:"fromHome",get:function(){return"1"!==Object(v["a"])("fromHome")}}]),a}(b["h"]);Object(l["b"])([Object(b["d"])(String)],$.prototype,"subId",void 0),Object(l["b"])([Object(b["i"])("popupShow")],$.prototype,"onShowWatch",null),$=Object(l["b"])([Object(b["a"])({name:"brandContent",components:{mescroll:p["a"],brandHeader:B,feedBox:f["a"],shootBtn:h["a"],tagPage:g["a"],toTop:m["a"]}})],$);var U=$,H=U,R=(e("c42c"),Object(A["a"])(H,o,n,!1,null,"d3c4d844",null));a["default"]=R.exports},c2a3:function(t,a,e){},c42c:function(t,a,e){"use strict";var o=e("c2a3"),n=e.n(o);n.a}}]);
//# sourceMappingURL=brandContent.cf6cfaa7.js.map