(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["clue"],{"03d1":function(e,t,n){"use strict";var a=n("23f6"),i=n.n(a);i.a},"0a49":function(e,t,n){var a=n("9b43"),i=n("626a"),c=n("4bf8"),o=n("9def"),s=n("cd1c");e.exports=function(e,t){var n=1==e,r=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,p=t||s;return function(t,s,v){for(var f,b,y=c(t),m=i(y),g=a(s,v,3),k=o(m.length),w=0,C=n?p(t,k):r?p(t,0):void 0;k>w;w++)if((h||w in m)&&(f=m[w],b=g(f,w,y),e))if(n)C[w]=b;else if(b)switch(e){case 3:return!0;case 5:return f;case 6:return w;case 2:C.push(f)}else if(u)return!1;return d?-1:l||u?u:C}}},1169:function(e,t,n){var a=n("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"20d6":function(e,t,n){"use strict";var a=n("5ca1"),i=n("0a49")(6),c="findIndex",o=!0;c in[]&&Array(1)[c]((function(){o=!1})),a(a.P+a.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(c)},"23f6":function(e,t,n){},bef3:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["container",e.showInput?"container--expand":""]},[n("NavBar",{staticClass:"fixedNav",attrs:{navBarStyle:e.navBarStyle,title:"\u5feb\u8bf4\u8f66",hideNavBar:!1,hideHolder:!1,leftButtonTheme:{type:"back",color:"black"}}}),n("div",{staticClass:"scrollBox"},[n("mescroll-vue",{ref:"mescrollWrap",attrs:{down:{use:!1},up:{onScroll:e.onScroll}},on:{init:e.scrollInit}},[n("div",{staticClass:"scrollContainer"},[n("clue-header",{attrs:{bannerUrl:e.bannerUrl,description:e.description,headerHeight:e.headerHeight},on:{"update:headerHeight":function(t){e.headerHeight=t},"update:header-height":function(t){e.headerHeight=t}}}),n("div",{staticClass:"carTypeTitle"},[e._v("\u9009\u62e9\u8f66\u578b")]),n("div",{staticClass:"carTypeList"},e._l(e.carTypeList,(function(t,a){return n("car-type",{key:a,attrs:{datasource:t},on:{check:e.handleCheck}})})),1)],1)])],1),n("div",{ref:"form",staticClass:"fixed-form"},[n("div",{staticClass:"appointment"},[e.showInput?n("div",{key:"arrowDown",class:["arrowDown",e.showInput?"arrowDown--expand":""],on:{click:function(t){e.showInput=!1}}}):e._e(),n("div",{key:"phone",class:[e.showInput?"formable--expand":"formable"]},[n("label",{class:["form-label",e.showInput?"is-required":""],on:{click:function(t){e.showInput=!0}}},[e._v(e._s(e.showInput?"\u624b\u673a\u53f7\u7801":e.phone||"\u624b\u673a\u53f7\u7801"))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],ref:"tel",staticClass:"form-input form-phone",attrs:{type:"tel",maxlength:"11",placeholder:"\u8bf7\u586b\u5199\u60a8\u7684\u7535\u8bdd",pattern:"[0-9]*"},domProps:{value:e.phone},on:{blur:e.downKeyboard,input:function(t){t.target.composing||(e.phone=t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.phone,expression:"phone"}],staticClass:"close form-input-icon",on:{click:function(t){return e.emptyData()}}})])]),n("div",{key:"userName",class:[e.showInput?"formable--expand":"formable"]},[n("label",{staticClass:"form-label",on:{click:function(t){e.showInput=!0}}},[e._v(e._s(e.showInput?"\u60a8\u7684\u79f0\u547c":e.userName||"\u60a8\u7684\u79f0\u547c"))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],ref:"userName",staticClass:"form-input form-userName",attrs:{type:"text",maxlength:"5",placeholder:"\u8bf7\u586b\u5199\u60a8\u7684\u540d\u5b57"},domProps:{value:e.userName},on:{blur:e.downKeyboard,input:function(t){t.target.composing||(e.userName=t.target.value)}}})])]),n("div",{key:"city",class:[e.showInput?"formable--expand":"formable"]},[n("label",{staticClass:"form-label",on:{click:function(t){e.showInput=!0}}},[e._v(e._s(e.showInput?"\u63d0\u8f66\u5730\u533a":e.province+e.city?e.provinceAndCity:"\u63d0\u8f66\u5730\u533a"))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"form-content",on:{click:function(t){return e.selectCity()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.provinceAndCity,expression:"provinceAndCity"}],staticClass:"form-input",attrs:{type:"text",readonly:""},domProps:{value:e.provinceAndCity},on:{input:function(t){t.target.composing||(e.provinceAndCity=t.target.value)}}}),n("i",{staticClass:"universal_icon form-input-icon"})])]),e.showFollow?n("div",{key:"follow",staticClass:"follow"},[n("sp-checkbox",{staticClass:"followCheck",model:{value:e.wantFollw,callback:function(t){e.wantFollw=t},expression:"wantFollw"}}),n("span",{staticClass:"followDes"},[e._v("\u5173\u6ce8\u5feb\u624b\u6c7d\u8f66\uff0c\u83b7\u53d6\u4e00\u624b\u4fe1\u606f")])],1):e._e(),n("div",{key:"submitBtn",class:[e.showInput?"submitBtn--expand":"submitBtn",e.submitDisabled?"submitBtn--disabled":""],on:{click:e.handleSubmit}},[e._v("\n                \u7acb\u5373\u63d0\u4ea4\n            ")]),e.showInput?n("div",{key:"legal",staticClass:"legal-instruments"},[e._v("\n                \u70b9\u51fb\u63d0\u4ea4\u5373\u89c6\u4e3a\u540c\u610f\n                "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.loadUrl("https://app.m.kuaishou.com/public/index.html#/protocol/privacy")}}},[e._v("\u300a\u9690\u79c1\u6743\u4fdd\u62a4\u653f\u7b56\u300b")]),n("a",{attrs:{href:"javascript:void(0)",target:"__blank"},on:{click:function(t){return e.loadUrl("https://static.yximgs.com/udata/pkg/ks-ad-fe/kuaishuoche-protocal.html")}}},[e._v("\u300a\u4e2a\u4eba\u4fe1\u606f\u4fdd\u62a4\u58f0\u660e\u300b")])]):e._e()])])],1)},i=[],c=(n("c5f6"),n("20d6"),n("6762"),n("2fdb"),n("a481"),n("d225")),o=n("b0b4"),s=n("308d"),r=n("6bb5"),l=n("4e2b"),u=n("9ab4"),d=n("a611"),h=n.n(d),p=(n("7095"),n("60a3")),v=n("d0da"),f=n("8d6b"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"showlog",rawName:"v-showlog",value:e.getLogInfo(),expression:"getLogInfo()"}],staticClass:"carTypeBox"},[n("div",{staticClass:"checkbox"},[n("sp-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),n("div",{staticClass:"container"},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.datasource.photoUrl,expression:"datasource.photoUrl",arg:"background-image"}],staticClass:"container__image",on:{click:function(t){e.checked=!e.checked}}}),n("div",{staticClass:"container__description"},[n("div",{staticClass:"title"},[n("span",[e._v(e._s(e.datasource.title))])]),n("div",{staticClass:"guidePrice"},[n("span",[e._v(e._s(e.datasource.guidePrice))])]),n("div",{staticClass:"activityPrice"},[n("span",[e._v(e._s(e.datasource.activityPrice))])])]),e.datasource.linkUrl?n("i",{staticClass:"link",on:{click:function(t){return e.handleLink(e.datasource.linkUrl)}}}):e._e()])])},y=[],m=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(s["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.checked=!1,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"onCheckedChange",value:function(e){this.handleCheckedChange(e)}},{key:"handleCheckedChange",value:function(e){return{type:e,value:this.datasource.title}}},{key:"handleLink",value:function(e){this.$logger.sendImmediately("CLICK","CLICK_BUSINESS_CAR_SALES_LEADS_MODEL",{},JSON.stringify({business_package:{business_line:"\u5feb\u8bf4\u8f66"}})),Object(v["d"])(e)}},{key:"getLogInfo",value:function(){return{eventName:"SHOW_BUSINESS_CAR_SALES_LEADS_MODEL",params:{},content_wrapper:{business_package:{business_line:"\u5feb\u8bf4\u8f66"}}}}}]),t}(p["h"]);Object(u["b"])([Object(p["d"])()],m.prototype,"datasource",void 0),Object(u["b"])([Object(p["i"])("checked")],m.prototype,"onCheckedChange",null),Object(u["b"])([Object(p["b"])("check")],m.prototype,"handleCheckedChange",null),m=Object(u["b"])([Object(p["a"])({name:"carType",components:{}})],m);var g=m,k=g,w=(n("03d1"),n("2877")),C=Object(w["a"])(k,b,y,!1,null,"bca7ac50",null),_=C.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clueHeader"},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.bannerUrl,expression:"bannerUrl",arg:"background-image"}],staticClass:"banner"}),e.description?n("div",{directives:[{name:"autoMargin",rawName:"v-autoMargin",value:e.getHeight,expression:"getHeight"}],staticClass:"description"},[n("span",[e._v(e._s(e.description))])]):e._e()])},j=[],I=n("2b0e"),S=I["default"].directive("AutoMargin",{inserted:function(e,t){var n=e.clientHeight;e.style.marginTop=-Math.floor(n/2)/50+"rem",t.value&&t.value(e.parentElement.clientHeight)}}),x=function(e){function t(){return Object(c["a"])(this,t),Object(s["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"getHeight",value:function(e){this.$emit("update:headerHeight",e)}}]),t}(p["h"]);Object(u["b"])([Object(p["d"])()],x.prototype,"bannerUrl",void 0),Object(u["b"])([Object(p["d"])()],x.prototype,"description",void 0),Object(u["b"])([Object(p["d"])()],x.prototype,"headerHeight",void 0),x=Object(u["b"])([Object(p["a"])({name:"clueHeader",components:{},directives:{autoMargin:S}})],x);var N=x,A=N,T=(n("fbfa"),Object(w["a"])(A,O,j,!1,null,"34cd1f0a",null)),L=T.exports,H=n("00e8"),U="/clueCollector/material",E=function(e,t){return H["a"].get(U,{params:{starId:e,activityName:t}})},B="/clueCollector/commit",D=function(e,t,n,a,i,c,o){return["\u9999\u6e2f","\u6fb3\u95e8","\u53f0\u6e7e"].includes(i)&&(c=""),["\u5317\u4eac","\u5929\u6d25","\u91cd\u5e86","\u4e0a\u6d77"].includes(i)&&(c=c.replace("\u533a","")),c=c.replace("\u5e02",""),H["a"].post(B,{starId:e,activityName:t,mobile:n,name:a,province:i,city:c,carTypeTitles:o})},P=n("c5a6"),M=n("7b7c"),$="/clueCollector/follow",F=function(e){var t="".concat($,"/").concat(e);return H["a"].get(t)},K=function(e,t){var n="".concat($,"/").concat(e);return H["a"].post(n,{follow:t})},z=n("756e"),R=n.n(z),J=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(s["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.mescroll="",e.carId="40300095",e.followStatus=!1,e.wantFollw=!0,e.isLogin=!1,e.bannerUrl="",e.description="",e.headerHeight=0,e.currentHeight=0,e.carTypeList=[],e.checkedTypes=[],e.test="",e.carName="",e.price="",e.carTypeId="",e.userName="",e.phone="",e.province="",e.city="",e.provinceAndCity="",e.rule={phone:!1,checkedTypes:!0},e.showInput=!1,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"onPersonChanged1",value:function(e,t){var n=this,a=/^(\+86)?[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;a.test(e)?(e.replace(a,(function(t,a){return n.phone=e.replace(a,"")})),this.rule.phone=!1):this.rule.phone=!0}},{key:"onCityChange",value:function(e,t){["\u5317\u4eac","\u5929\u6d25","\u91cd\u5e86","\u4e0a\u6d77","\u9999\u6e2f","\u6fb3\u95e8","\u53f0\u6e7e"].includes(this.province)?this.provinceAndCity=this.province+" "+this.province:this.provinceAndCity=this.province+" "+this.city}},{key:"onCheckedTypesChange",value:function(e,t){0===e.length?(this.showInput=!1,this.rule.checkedTypes=!0):(this.showInput=!0,this.rule.checkedTypes=!1)}},{key:"getHeight",value:function(){var e=this.showFollow?336:290;return{height:this.showInput?e/50+"rem":"2.76rem"}}},{key:"onScroll",value:function(e,t){this.currentHeight=Math.floor(t)}},{key:"handleCheck",value:function(e){var t=this;if(e.type)0===this.checkedTypes.length&&this.$nextTick((function(){t.mescroll.scrollTo(t.headerHeight)})),this.checkedTypes.push(e.value);else{var n=this.checkedTypes.findIndex((function(t){return t===e.value}));this.checkedTypes.splice(n,1)}}},{key:"downKeyboard",value:function(){}},{key:"emptyData",value:function(){this.phone=""}},{key:"selectCity",value:function(){var e=this;Object(v["a"])(),Object(v["g"])((function(t){t.provinceName.indexOf("\u53f0\u6e7e")>-1?Object(v["l"])("normal","\u6682\u4e0d\u652f\u6301\u53f0\u6e7e"):(e.province=t.provinceName,e.city=t.cityName)}))}},{key:"getProvinceAndCity",value:function(e,t){var n=this;0===e&&0===t?this.provinceAndCity="\u5b9a\u4f4d\u5931\u8d25\uff0c\u70b9\u51fb\u9009\u62e9":Object(P["f"])(e,t).then((function(e){n.province=e.data.province,n.city=e.data.city}))}},{key:"loadUrl",value:function(e){Object(v["d"])(e)}},{key:"handleSubmit",value:function(){var e=this;!0===this.submitDisabled?Object(v["l"])("error","\u60a8\u8fd8\u6ca1\u6709\u586b\u5199\u4fe1\u606f"):(K(this.carId,Number(this.wantFollw)),D(this.starId,this.activityName,this.phone,this.userName,this.province,this.city,this.checkedTypes).then((function(t){1===t.result?(e.$logger.sendImmediately("CLICK","CLICK_BUSINESS_CAR_SALES_LEADS_SUBMIT",{},JSON.stringify({business_package:{business_line:"\u5feb\u8bf4\u8f66"}})),Object(v["l"])("normal","\u63d0\u4ea4\u6210\u529f"),setTimeout((function(){Object(v["f"])()}),1200)):Object(v["l"])("error",t.error_msg)})))}},{key:"setUserInfo",value:function(){var e=this;Object(M["b"])().then((function(t){e.isLogin=t.data.login,t.data.login?(e.phone=t.data.phone,F(e.carId).then((function(t){e.followStatus=t.data}))):R.a.login({success:function(t){e.setUserInfo()}})}))}},{key:"scrollInit",value:function(e){this.mescroll=e}},{key:"created",value:function(){var e=this;Object(v["c"])(this.getProvinceAndCity),E(this.starId,this.activityName).then((function(t){e.bannerUrl=t.data.bannerUrl,e.description=t.data.description,e.carTypeList=t.data.carTypes})),this.setUserInfo(),Object(v["h"])("\u5feb\u8bf4\u8f66")}},{key:"beforeCreate",value:function(){this.$PV("enter","BUSINESS_CAR_SALES_LEADS",{business_package:{business_line:"\u5feb\u8bf4\u8f66"}})}},{key:"beforeDestroy",value:function(){this.$PV("leave","BUSINESS_CAR_SALES_LEADS",{business_package:{business_line:"\u5feb\u8bf4\u8f66"}})}},{key:"navBarStyle",get:function(){var e=this.currentHeight/this.headerHeight;return{backgroundColor:"#fff",color:"#222",fontSize:"16px",opacity:isNaN(e)?"0":e>1?"1":e+""}}},{key:"showFollow",get:function(){var e=!1;return this.isLogin&&!1===!!this.followStatus&&this.showInput&&(e=!0),e}},{key:"submitDisabled",get:function(){for(var e in this.rule)if(!0===this.rule[e])return!0;return!1}}]),t}(p["h"]);Object(u["b"])([Object(p["d"])(String)],J.prototype,"starId",void 0),Object(u["b"])([Object(p["d"])(String)],J.prototype,"activityName",void 0),Object(u["b"])([Object(p["i"])("phone")],J.prototype,"onPersonChanged1",null),Object(u["b"])([Object(p["i"])("city")],J.prototype,"onCityChange",null),Object(u["b"])([Object(p["i"])("checkedTypes")],J.prototype,"onCheckedTypesChange",null),J=Object(u["b"])([Object(p["a"])({name:"clue",components:{carType:_,clueHeader:L,NavBar:h.a,MescrollVue:f["a"]}})],J);var V=J,W=V,q=(n("ede7"),Object(w["a"])(W,a,i,!1,null,"9aff38dc",null));t["default"]=q.exports},cc2e:function(e,t,n){},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},e853:function(e,t,n){var a=n("d3f4"),i=n("1169"),c=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&(t=t[c],null===t&&(t=void 0))),void 0===t?Array:t}},e882:function(e,t,n){},ede7:function(e,t,n){"use strict";var a=n("cc2e"),i=n.n(a);i.a},fbfa:function(e,t,n){"use strict";var a=n("e882"),i=n.n(a);i.a}}]);
//# sourceMappingURL=clue.a4c71b1b.js.map