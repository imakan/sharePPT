(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["channelContent"],{"0797":function(t,e,a){"use strict";var n=a("74a6"),o=a.n(n);o.a},"74a6":function(t,e,a){},"911b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("mescroll",t._b({ref:"mescrollWrap",attrs:{filterTab:[t.subId]},on:{setCurrentIndex:t.setCurrentIndex}},"mescroll",{tabList:t.tabList,subId:t.subId,currentIndex:t.currentIndex,tabLogConfig:{elementAction:"CLICK_BUSINESS_CAR_GUIDE_TAB",conversion_id:t.subId}},!1),[n("channelHeader",t._b({attrs:{slot:"header"},slot:"header"},"channelHeader",{subName:t.subName,fromHome:t.fromHome,subId:t.subId,adBannerInfo:t.adBannerInfo},!1)),n("feed-box",t._b({attrs:{slot:"content"},slot:"content"},"feed-box",{subId:t.subId,tabList:t.tabList,currentIndex:t.currentIndex,feedLogConfig:{show:{elementAction:"SHOW_BUSINESS_CAR_GUIDE_PHOTO",elementAction_2:"SHOW_BUSINESS_CAR_FRONTPAGE_REVIEWER_RECOMMEND"},click:{elementAction:"CLICK_BUSINESS_CAR_GUIDE_PHOTO",elementAction_2:"SHOW_BUSINESS_CAR_FRONTPAGE_REVIEWER_RECOMMEND"},conversion_id:t.subId}},!1)),t.showShot?n("shoot-btn",t._b({ref:"shootBtn",attrs:{slot:"shootBtn"},on:{click:t.clickShootBtn},slot:"shootBtn"},"shoot-btn",{tag:t.tag,subId:t.subId,activityId:t.activityMap[t.subId]},!1)):t._e(),n("to-top",{attrs:{slot:"toTop"},on:{goToTop:t.goToTop},slot:"toTop"})],1),n("sp-popup",{staticClass:"myPopup",attrs:{position:"bottom","disable-scroll":!0},on:{show:t.setDialog},model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}},[n("tag-page",{attrs:{datasource:t.activeTags,params:{tagId:this.subId},firstEnter:t.firstEnter,isShow:t.popupShow},on:{"on-cancel":t.handleCancel,"on-confirm":t.handleConfirm},scopedSlots:t._u([{key:"title",fn:function(){return[n("span",[t._v("\u4e3a\u4f5c\u54c1\u6dfb\u52a0\u5206\u7c7b\u8bdd\u9898")])]},proxy:!0}])})],1),n("sp-dialog",{staticClass:"tagDialog",attrs:{position:"center"},model:{value:t.openDialog,callback:function(e){t.openDialog=e},expression:"openDialog"}},[n("div",{staticClass:"dialog__content"},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:a("818f"),expression:"require('@/assets/notice.png')",arg:"background-image"}],staticClass:"testimg"}),n("div",{staticClass:"confirm__btn",on:{click:function(e){t.openDialog=!1}}},[t._v("\u7ee7\u7eed\u53d1\u5e03")])]),n("div",{staticClass:"gap"}),n("img",{staticClass:"closeimg",attrs:{src:a("43bc")},on:{click:function(e){t.openDialog=!1}}})])],1)},o=[],s=a("d225"),i=a("b0b4"),r=a("308d"),c=a("6bb5"),u=a("4e2b"),l=a("9ab4"),d=a("60a3"),b=a("7afa"),h=a("923e"),p=a("4058"),f=a("e813"),m=a("122a"),v=a("0c0d"),_=a("d0da"),g=a("044e"),I=a("00e8"),C=function(t){var e="/tag/statistics?tagId=".concat(t);return I["a"].get(e)},S=function(t){var e="/tag/info?tagId=".concat(t);return I["a"].get(e)},k=a("e255"),y=a("2cfd"),O=a("4201"),w=function(t){var e={tabName:"\u63a8\u8350\u89c6\u9891",ajaxKey:"photo/reco",listData:new Array,noMore:!1,fetching:!1,pageNum:0,tagId:t,brandId:"",layout:"recoVideo",limit:20},a={tabName:"\u63a8\u8350\u8bc4\u8f66\u4eba",ajaxKey:"commentator/reco",listData:new Array,noMore:!1,fetching:!1,pageNum:0,tagId:"",brandId:"",layout:"recoPerson",limit:20};return"121"===t?[e,a]:[e]},N={121:20007,126:20009,149:20010,167:20008,229:20011},B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channelHeader"},[t.fromHome?a("div",{staticClass:"source",on:{click:function(e){return t.backChannel()}}},[t._v("\n        \u8fdb\u5165\u5feb\u8bf4\u8f66\u9891\u9053\n        "),a("i",{staticClass:"icon-nav-forward",style:t.iconNavStyle})]):t._e(),a("div",{staticClass:"statistics"},[a("div",{staticClass:"title"},[t._v(t._s(t.subName))]),a("div",{staticClass:"pr-br-up"},[a("div",{staticClass:"pr"},[a("span",[t._v(t._s(t._f("formatUnit")(t.statisticsData.photoCount)))]),t._v("\n                \u4f5c\u54c1\n            ")]),a("div",{staticClass:"br"},[a("span",[t._v(t._s(t._f("formatUnit")(t.statisticsData.playCount)))]),t._v("\n                \u64ad\u653e\n            ")]),a("div",{staticClass:"up"},[a("span",[t._v(t._s(t._f("formatUnit")(t.statisticsData.likeCount)))]),t._v("\n                \u70b9\u8d5e\n            ")])])]),a("div",{staticClass:"ad-banner"},[a("a",{directives:[{name:"showlog",rawName:"v-showlog",value:t.showBannerLog(),expression:"showBannerLog()"}],attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.guideBanner(t.adBannerInfo.bannerLinkUrl)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.adBannerInfo.adBannerUrl,expression:"adBannerInfo.adBannerUrl"}],staticClass:"ad-banner-img",attrs:{alt:"\u5e7f\u544a\u56fe",title:"\u5e7f\u544a\u4f4d"}})])])])},E=[],j=a("d5d6"),U=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.statisticsData={photoCount:0,playCount:0,likeCount:0,adBannerUrl:"",bannerLinkUrl:""},t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"backChannel",value:function(){this.$logger.sendImmediately("CLICK","CLICK_BUSINESS_CAR_GUIDE_TO_CHANNEL",{},JSON.stringify({business_package:{business_line:"\u5feb\u8bf4\u8f66",custom:{conversion_id:this.subId,source:this.$route.query.source||"unknown"}}})),this.$router.push({path:"/home",query:{channelName:this.subName,source:this.$route.query.source||"unknown"}})}},{key:"guideBanner",value:function(t){this.$logger.sendImmediately("CLICK","CLICK_BUSINESS_CAR_GUIDE_BANNER",{},JSON.stringify({business_package:{business_line:"\u5feb\u8bf4\u8f66",custom:{conversion_id:this.subId,source:this.$route.query.source||"unknown"}}})),Object(_["d"])(t)}},{key:"showBannerLog",value:function(){return{eventName:"SHOW_BUSINESS_CAR_GUIDE_BANNER",params:{},content_wrapper:{business_package:{business_line:"\u5feb\u8bf4\u8f66",custom:{conversion_id:this.subId,source:this.$route.query.source||"unknown"}}}}}},{key:"created",value:function(){var t=this;C(this.subId).then((function(e){1===e.result&&(t.statisticsData=e.data)}))}},{key:"iconNavStyle",get:function(){return{backgroundImage:"url(".concat(a("5655"),")")}}}]),e}(d["h"]);Object(l["b"])([Object(d["d"])(String)],U.prototype,"subName",void 0),Object(l["b"])([Object(d["d"])(Boolean)],U.prototype,"fromHome",void 0),Object(l["b"])([Object(d["d"])(String)],U.prototype,"subId",void 0),Object(l["b"])([Object(d["d"])(Object)],U.prototype,"adBannerInfo",void 0),U=Object(l["b"])([Object(d["a"])({name:"channelHeader",filters:{formatUnit:j["b"]}})],U);var D=U,L=D,x=(a("c63c"),a("2877")),A=Object(x["a"])(L,B,E,!1,null,"53da75c2",null),T=A.exports,$=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.activityMap=N,t.tabList=w(t.subId),t.currentIndex=0,t.subName="",t.tag="",t.adBannerInfo={},t.popupShow=!1,t.activeTags=[],t.firstEnter=!1,t.openDialog=!1,t.showShot=!0,t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"onShowWatch",value:function(t){t&&this.$refs.mescrollWrap&&(this.$refs.mescrollWrap.mescrollDown.isLock=t,this.$refs.mescrollWrap.mescrollUp.isLock=t)}},{key:"setDialog",value:function(){this.firstEnter&&(this.openDialog=!0)}},{key:"setCurrentIndex",value:function(t){this.tabList[t].tabName.indexOf("\u63a8\u8350")>-1?(this.tabList[t].tabName.indexOf("\u63a8\u8350\u8bc4\u8f66\u4eba")>-1?this.showShot=!1:this.showShot=!0,this.tag=this.subName):this.tag=this.subName+" #"+this.tabList[t].tabName,this.currentIndex=t}},{key:"clickShootBtn",value:function(){var t=this;if(!g["a"])return Object(_["d"])("kwai://webview?url=".concat(encodeURIComponent("https://auto.kuaishou.com/auto".concat(this.$route.fullPath)))),!1;Object(k["a"])().then((function(e){t.firstEnter=e.data.firstEnter,e.data.login?t.callShoot(e.data.creator):Object(_["e"])((function(){t.callShoot(e.data.creator)}))}))}},{key:"callShoot",value:function(t){t?(this.popupShow=!0,Object(y["a"])()):this.$refs.shootBtn.shootCallback()}},{key:"handleConfirm",value:function(){var t=this;this.popupShow=!1;var e=this.activeTags.map((function(t){return t.topicId}));this.tag=this.activeTags.map((function(t){return t.title})).join(" #"),this.$nextTick((function(){t.$refs.shootBtn.shootCallback(O["a"],e)}))}},{key:"handleCancel",value:function(){this.popupShow=!1}},{key:"goToTop",value:function(){this.$refs.mescrollWrap&&this.$refs.mescrollWrap.mescroll.scrollTo(0,300)}},{key:"created",value:function(){var t=this;S(this.subId).then((function(e){1===e.result&&(t.subName=e.data.title,t.tag=e.data.title,Object(_["h"])(e.data.title),t.adBannerInfo={adBannerUrl:e.data.adBannerUrl,bannerLinkUrl:e.data.bannerLinkUrl})})),this.$PV("enter","BUSINESS_CAR_GUIDE",{business_package:{custom:{conversion_id:this.subId,source:this.$route.query.source||"unknown"}}})}},{key:"beforeDestroy",value:function(){this.$PV("leave","BUSINESS_CAR_GUIDE",{business_package:{custom:{conversion_id:this.subId,source:this.$route.query.source||"unknown"}}})}},{key:"mounted",value:function(){}},{key:"fromHome",get:function(){return"1"!==Object(v["a"])("fromHome")}}]),e}(d["h"]);Object(l["b"])([Object(d["d"])(String)],$.prototype,"subId",void 0),Object(l["b"])([Object(d["i"])("popupShow")],$.prototype,"onShowWatch",null),$=Object(l["b"])([Object(d["a"])({name:"channelContent",components:{mescroll:b["a"],channelHeader:T,feedBox:h["a"],shootBtn:p["a"],tagPage:f["a"],toTop:m["a"]}})],$);var R=$,H=R,W=(a("0797"),Object(x["a"])(H,n,o,!1,null,"175cd3ca",null));e["default"]=W.exports},b2de:function(t,e,a){},c63c:function(t,e,a){"use strict";var n=a("b2de"),o=a.n(n);o.a}}]);
//# sourceMappingURL=channelContent.c69a3b76.js.map